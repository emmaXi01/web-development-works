{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app.js","webpack:///./src/services.js"],"names":["header","document","querySelector","login","status","recipeList","newRecipeForm","recipeInfo","outgoing","errMessages","appState","isInHomePage","isLoggedIn","toLogin","isAddRecipe","recipes","recipeDetails","error","renderHomePage","innerHTML","renderErrors","renderRecipes","recipesInfo","map","recipe","recipeId","title","author","join","innerText","addEventListener","event","target","classList","contains","preventDefault","fetchLoginStatus","then","err","renderLogin","renderRecipeDetail","renderNewRecipeForm","show","disabled","addUser","username","value","fetchLogin","data","errorCode","text","dataset","fetchRecipeDetails","Object","keys","length","ingredients","instructions","fetchRecipes","fetchNewRecipeForm","addTitle","addIngredients","addInstructions","createNewRecipe","newRecipe","logout","fetch","method","Promise","reject","response","ok","json","credentials","headers","Headers","body","JSON","stringify"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/app.js\");\n","\"use strict\";\nimport { \n    fetchRecipes,\n    fetchRecipeDetails,\n    fetchLogin,\n    fetchLoginStatus,\n    fetchNewRecipeForm,\n    createNewRecipe,\n    logout } from './services';\n\nconst header = document.querySelector('.header-info');\nconst login = document.querySelector('.login-panel');\nconst status = document.querySelector('.status');\nconst recipeList = document.querySelector('.recipe-list-panel');\nconst newRecipeForm = document.querySelector('.new-recipe-panel');\nconst recipeInfo = document.querySelector('.recipe-details-panel');\nconst outgoing = document.querySelector('.outgoing');\n\n//error messages\nconst errMessages = {\n    'invalid-user': \"User not found, please login!\",\n    'invalid-username': \"Bad login, Please enter a valid user name without containing whitespace and 'dog'!\",\n    'network-error': \"There is a problem connecting to the network, try again!\",\n    'missing-content': \"The title, ingredients and instructions cannot be empty\",\n    'no-recipe' : \"The recipe doesn't exist\",\n}\n\nconst appState = {\n    isInHomePage: false,\n    isLoggedIn: false,\n    toLogin: false,\n    isAddRecipe: false,\n    recipes:[],\n    recipeDetails:{},\n    error:'',\n}\n\nfunction renderHomePage() {\n    if(appState.toLogin) {\n        header.innerHTML = ``;\n        recipeList.innerHTML = ``;\n        outgoing.innerHTML = ``;\n        renderErrors(appState.error);\n        return;\n    }\n\n    if(appState.isLoggedIn) {\n        header.innerHTML = `<button class=\"logout-button\">Sign out</button>`;\n    } else {\n        header.innerHTML = `<button class=\"login-button\">Sign in</button>`;\n    }\n\n    if(appState.isInHomePage) {\n        recipeList.innerHTML = `\n            <h1 class=\"title\">Recipes</h1>\n            <div class=\"recipes-display\">\n                <ul class=\"recipes\"></ul> \n            </div>\n        `;\n\n        renderRecipes(appState.recipes);\n        outgoing.innerHTML = `<button class=\"new-recipe-button\">New Recipe</button>`;\n    } else {\n        recipeList.innerHTML = ``;\n        outgoing.innerHTML = `<button class=\"back-home-button\">Back to Home</button>`\n    }  \n    \n    renderErrors(appState.error);\n}\n\nfunction renderRecipes(recipes) {\n    const recipesInfo = recipeList.querySelector('.recipes');\n    recipesInfo.innerHTML = recipes.map(recipe => { \n        return `\n            <li class=\"recipe-info\">\n                <span \n                    data-recipe-id=\"${recipe.recipeId}\"\n                    class=\"recipe-title\">${recipe.title}</span>\n                <span\n                    data-recipe-id=\"${recipe.recipeId}\"\n                    class=\"recipe-author\">${recipe.author}</span>\n            </li>\n        `;\n    }).join(' ');\n}\n\nfunction renderErrors(error) {\n    status.innerText = errMessages[error] || error;\n}\n\n//go to login screen\nheader.addEventListener('click', (event) => {\n    if(!event.target.classList.contains('login-button')) {\n        return;\n    }\n    event.preventDefault();\n\n    fetchLoginStatus()\n    .then( () => {\n        appState.toLogin = false;\n        renderHomePage(appState.toLogin);\n    })\n    .catch( (err) => {\n        appState.toLogin = true;\n        appState.recipeDetails = {};\n        appState.isAddRecipe = false;\n        appState.error = '';\n        renderHomePage();\n        renderLogin(appState.toLogin);\n        renderRecipeDetail(appState.recipeDetails);\n        renderNewRecipeForm(appState.isAddRecipe);\n    });   \n});\n\nfunction renderLogin(show) {\n    if(show) {\n        login.innerHTML = `\n            <input class=\"username\" type=\"text\" placeholder=\"Enter a user name\" />\n            <button class=\"to-login\" type=\"button\">Sign in</button>\n        `;\n        login.querySelector('.to-login').disabled = true;\n    } else {\n        login.innerHTML = ``;\n    }   \n}\n\nlogin.addEventListener('click', (event) => {\n    if(!event.target.classList.contains('to-login')) {\n        return;\n    }\n    event.preventDefault();\n\n    const addUser = login.querySelector('.username');\n    const username = addUser.value;\n    addUser.value = '';\n\n    fetchLogin(username)\n    .then( (data) => {\n        appState.isInHomePage = true;\n        appState.isLoggedIn = true;\n        appState.toLogin = false;\n        appState.recipes = data;\n        appState.error = ''\n        renderHomePage();\n        renderLogin(appState.toLogin);\n    })\n    .catch( (err) => {\n        appState.error = err.errorCode;  \n        renderHomePage(); \n        renderLogin(appState.toLogin);\n        renderErrors(appState.error);\n    });\n});\n\n//get username\nlogin.addEventListener('keyup', (event) => {\n    if(!event.target.classList.contains('username')) {\n        return;\n    }\n    \n    const text = event.target.value;\n    login.querySelector('.to-login').disabled = !text;\n});\n\n\n//see recipe details\nrecipeList.addEventListener('click', (event) => {\n    if(!event.target.classList.contains('recipe-title')) {\n        return;\n    }\n    event.preventDefault();\n\n    const recipeId = event.target.dataset.recipeId;\n    event.preventDefault();\n    fetchRecipeDetails(recipeId)\n    .then((recipeDetails) => {\n        appState.isInHomePage = false;\n        appState.recipeDetails = recipeDetails; \n        appState.error = '';\n        renderHomePage();\n        renderRecipeDetail(appState.recipeDetails);\n    })\n    .catch( (err) => {\n        appState.error = err.errorCode;   \n        renderHomePage(appState.isInHomePage);\n    });\n});\n\nfunction renderRecipeDetail(recipeDetails) {\n    if(Object.keys(recipeDetails).length === 0) {\n        recipeInfo.innerHTML = ``;   \n    } else {\n        recipeInfo.innerHTML = `\n            <h2 class=\"title\"> Recipt Details </h2>\n            <div class=\"recipe-title\">\n                <label>Title:</label>\n                <span>${recipeDetails.title}</span>\n            </div>\n            <div class=\"recipe-author\">\n                <label>Author:</label>\n                <span>${recipeDetails.author}</span>\n            </div>\n            <div class=\"recipe-ingredients\">\n                <label>Ingredients:</label><br/>\n                <span>${recipeDetails.ingredients}</span>\n            </div>\n            <div class=\"recipe-instrcutions\">\n                <label>Instructions:</label><br/>\n                <span>${recipeDetails.instructions}</span>\n            </div>\n        `;\n    }    \n}\n\n\n//back to home screen\noutgoing.addEventListener('click', (event) => {\n    if(!event.target.classList.contains('back-home-button')) {\n        return;\n    }\n    event.preventDefault();\n\n    fetchRecipes()\n    .then((data) => {\n        appState.isInHomePage = true;\n        appState.recipes = data;\n        appState.recipeDetails = {};\n        appState.isAddRecipe = false;\n        appState.error = '';\n        renderHomePage();\n        renderRecipeDetail(appState.recipeDetails);\n        renderNewRecipeForm(appState.isAddRecipe);\n    });  \n});\n\n\n//go to new recipe screen\noutgoing.addEventListener('click', (event) => {\n    if(!event.target.classList.contains('new-recipe-button')) {\n        return;\n    }\n    event.preventDefault();\n\n    fetchNewRecipeForm()\n    .then( () => {\n        appState.isInHomePage = false;\n        appState.isLoggedIn = true;\n        appState.isAddRecipe = true;\n        renderHomePage();\n        appState.error = '';\n        renderNewRecipeForm(appState.isAddRecipe);\n    })\n    .catch( (err) => {\n        appState.isInHomePage = true;\n        appState.isLoggedIn = false;\n        appState.error = err.errorCode;   \n        renderHomePage();\n    });\n});\n\nfunction renderNewRecipeForm(show) {\n    if(show) {\n        newRecipeForm.innerHTML = `\n            <h2 class=\"title\"> New Recipt </h2>\n            <div>\n                <label>Title: </label><br/>\n                <textarea class=\"new-recipe-title\" rows=\"2\" cols=\"100\"></textarea>\n            </div>\n            <div>\n                <label>Ingredients: </label><br/>\n                <textarea class=\"new-recipe-ingredients\" rows=\"4\" cols=\"100\"></textarea>\n            </div>\n            <div>\n                <label>Instructions: </label><br/>\n                <textarea class=\"new-recipe-instructions\" rows=\"6\" cols=\"100\"></textarea>\n            </div>\n            <div>\n                <button class=\"to-add-recipe\">Add</button>\n            </div>\n        `; \n    } else {\n        newRecipeForm.innerHTML = ``;\n    }   \n}\n\n//add new recipe\nnewRecipeForm.addEventListener('click', (event) => {\n    if(!event.target.classList.contains('to-add-recipe')) {\n        return;\n    }\n    event.preventDefault();\n\n    const addTitle = newRecipeForm.querySelector('.new-recipe-title');\n    const title = addTitle.value;\n\n    const addIngredients = newRecipeForm.querySelector('.new-recipe-ingredients');\n    const ingredients = addIngredients.value;\n\n    const addInstructions = newRecipeForm.querySelector('.new-recipe-instructions');\n    const instructions = addInstructions.value;\n\n    //reset to empty\n    addTitle.value = '';\n    addIngredients.value = '';\n    addInstructions.value = '';\n\n    createNewRecipe({ title, ingredients, instructions })\n    .then( (newRecipe) => {\n        appState.isInHomePage = false;\n        appState.isLoggedIn = true;\n        appState.recipeDetails = newRecipe;\n        appState.isAddRecipe = false;\n        appState.error = '';\n        renderHomePage();\n        renderNewRecipeForm(appState.isAddRecipe);\n        renderRecipeDetail(appState.recipeDetails);\n    })\n    .catch( (err) => {\n        appState.isInHomePage = false;\n        appState.isLoggedIn = true;\n        appState.error = err.errorCode;   \n        renderHomePage();\n        renderNewRecipeForm(appState.isAddRecipe);\n    });    \n});\n\n\n//logout\nheader.addEventListener('click', (event) => {\n    if(!event.target.classList.contains('logout-button')) {\n        return;\n    }\n    event.preventDefault();\n\n    logout()\n    .then( () => {\n        appState.isInHomePage = true;\n        appState.isLoggedIn = false;\n        appState.recipeDetails = {};\n        appState.isAddRecipe = false;\n        appState.error = '';\n        renderHomePage();\n        renderRecipeDetail(appState.recipeDetails);\n        renderNewRecipeForm(appState.isAddRecipe);\n    })\n    .catch( (err) => {\n        appState.error = err.errorCode;   \n        renderErrors();\n    });\n});\n\n\n//Initial load\nfetchLoginStatus()\n.then( () => {\n    appState.isLoggedIn = true;\n    renderHomePage();\n})\n.catch( () => {\n    appState.isLoggedIn = false;\n    renderHomePage();\n});\n\nfetchRecipes()\n.then( (data) => {\n    appState.isInHomePage = true;\n    appState.recipes = data;\n    renderHomePage();\n});\n","\nexport const fetchRecipes = () => {\n    return fetch('/recipes', {\n        method: \"GET\",   \n    })\n    .catch( () => Promise.reject({ errorCode: 'network-error' }))\n    .then( (response) => {\n        if(!response.ok) {\n            return response.json().then( (err) => Promise.reject(err) );\n        }\n\n        return response.json();\n    });\n};\n\nexport const fetchRecipeDetails = (recipeId) => {\n    return fetch(`/recipes/${recipeId}`, {\n        method: 'GET',\n        credentials: 'include',\n    })\n    .catch( () => Promise.reject({ errorCode: 'network-error' }))\n    .then( (response) => {\n        if(!response.ok) {\n            return response.json().then( (err) => Promise.reject(err) );\n        }\n\n        return response.json();\n    });\n};\n\nexport const fetchLogin = (username) => {\n    return fetch('/session', {\n        method: \"POST\",\n        headers: new Headers({\n            'content-type': 'application/json'\n        }),\n        body: JSON.stringify({ username }),\n        credentials: 'include',\n    })\n    .catch( () => Promise.reject({ errorCode: 'network-error' }))\n    .then( (response) => {\n        if(!response.ok) {\n            return response.json().then( (err) => Promise.reject(err) );\n        }\n\n        return response.json();\n    });\n};\n\nexport const fetchLoginStatus = () => {\n    return fetch('/session', {\n        method: 'GET',\n    })\n    .catch( () => Promise.reject({ errorCode: 'network-error' }))\n    .then( (response) => {\n        if(!response.ok) {\n            return response.json().then( (err) => Promise.reject(err) );\n        }\n\n        return;\n    });\n};\n\nexport const fetchNewRecipeForm = () => {\n    return fetch('/newRecipe', {\n        method: 'GET',\n        credentials: 'include',\n    })\n    .catch( () => Promise.reject({ errorCode: 'network-error' }))\n    .then( (response) => {\n        if(!response.ok) {\n            return response.json().then( (err) => Promise.reject(err) );\n        }\n\n        return;\n    });\n\n};\n\nexport const createNewRecipe = ({ title, ingredients, instructions }) => {\n    return fetch('/newRecipe', {\n        method: 'POST',\n        headers: new Headers({\n            'content-type': 'application/json'\n        }),\n        body: JSON.stringify({ title, ingredients, instructions }),\n        credentials: 'include',\n    })\n    .catch( () => Promise.reject({ errorCode: 'network-error' }))\n    .then( (response) => {\n        if(!response.ok) {\n            return response.json().then( (err) => Promise.reject(err) );\n        }\n\n        return response.json();\n    });\n};\n\nexport const logout = () => {\n    return fetch('/session', {\n        method: 'DELETE',\n        headers: new Headers({\n            'content-type': 'application/json'\n        })\n    })\n    .catch( () => Promise.reject({errorCode: 'network-error'}) )\n    .then( (response) => {\n        if(!response.ok) {\n            return response.json().then( (err) => Promise.reject(err) )\n        }\n        return;\n    });\n};"],"sourceRoot":""}